-- R1 mote triggers
ON EVENT RECV(m)
IF (m MATCHES M_INCFREQ) (
SET num_ticks = 30;
SET fast = TRUE
)
ON EVENT ONE_HZ_TICK
IF (fast) (
SEND(parent, M_TEMP(temp));
SET num_ticks -= 1;
IF (num_ticks == 0) (
SET fast = FALSE
)
) ELSE IF (count == 0) (
SEND(parent, M_TEMP(temp));
SET count = 30;
) ELSE (
SET count -= 1;
)
